<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Advertencia – IctusCare</title>
<style>
  :root {
    --bg:#0f3d83;
    --card:#ffffff;
    --ink:#0f172a;
    --muted:#64748b;
    --accent:#2563eb;
  }
  body {
    margin:0;
    font-family: Verdana, sans-serif;
    background: var(--bg);
    display:flex;
    align-items:center;
    justify-content:center;
    height:100vh;
  }
  .card {
    background: var(--card);
    color: var(--ink);
    border-radius: 16px;
    padding: 2rem;
    width:90%;
    max-width: 600px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.25);
    text-align: justify;
    line-height:1.5;
    animation: fadeIn 0.8s ease-in-out;
  }
  h1 {
    text-align:center;
    color: var(--bg);
    font-size: 1.3rem;
    margin-top:0;
  }
  p {
    margin-top:1rem;
    font-size:0.95rem;
  }
  .boton {
    display:block;
    margin: 2rem auto 0;
    padding: 0.8rem 1.5rem;
    background: linear-gradient(180deg, #2563eb, #0f3d83);
    color:#fff;
    border:none;
    border-radius:8px;
    font-size:1rem;
    cursor:pointer;
    transition: opacity 0.3s;
    box-shadow: 0 3px 8px rgba(0,0,0,0.25);
  }
  .boton:hover {
    opacity:0.85;
  }
  @keyframes fadeIn {
    from {opacity:0; transform: translateY(10px);}
    to {opacity:1; transform: translateY(0);}
  }
</style>
<script>
  // Días hasta volver a mostrar la advertencia
  const EXPIRACION_DIAS = 90;

  document.addEventListener("DOMContentLoaded", () => {
    const aceptado = localStorage.getItem("aceptado");
    const fechaAceptacion = localStorage.getItem("fechaAceptacion");

    if (aceptado === "true" && fechaAceptacion) {
      const hoy = new Date();
      const fechaGuardada = new Date(fechaAceptacion);
      const diferenciaDias = (hoy - fechaGuardada) / (1000 * 60 * 60 * 24);

      // Si no han pasado 90 días, ir directamente al menú principal
      if (diferenciaDias < EXPIRACION_DIAS) {
        window.location.href = "index.html"; // cambia si tu menú principal tiene otro nombre
      } else {
        // Si han pasado 90 días, borrar el consentimiento anterior
        localStorage.removeItem("aceptado");
        localStorage.removeItem("fechaAceptacion");
      }
    }
  });

  function aceptar() {
    localStorage.setItem("aceptado", "true");
    localStorage.setItem("fechaAceptacion", new Date().toISOString());
    window.location.href = "index.html"; // destino del menú principal
  }
</script>
</head>
<body>
  <div class="card">
    <h1>Advertencia</h1>
    <p>Esta herramienta es un apoyo a la decisión clínica; no sustituye el juicio profesional, la valoración individual del paciente ni los protocolos o guías locales actualizados.</p>
    <p>Verifique siempre indicaciones, contraindicaciones, interacciones, posología y disponibilidad según su centro. Ante discrepancias, prevalecen los protocolos vigentes y el criterio del equipo responsable.</p>
    <button class="boton" onclick="aceptar()">Aceptar y continuar</button>
  </div>
</body>
</html>
